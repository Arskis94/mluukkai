{"version":3,"sources":["components/PopulateList.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["PopulateList","persons","filterName","deletePerson","list","filter","person","name","toLowerCase","includes","map","isActive","key","id","number","value","onClick","type","Filter","searchName","onChange","PersonsForm","addNumber","newName","newNumber","handleNameOnChange","handleNumberOnChange","onSubmit","placeholder","required","baseUrl","axios","get","then","response","data","numberObject","post","put","delete","App","useState","setNewName","setNewNumber","setFilterName","setPersons","confirmMessage","setConfirmMessage","errorMessage","setErrorMessage","uuidv1","require","useEffect","personService","initialPersons","style","message","error","className","e","target","PersonForm","preventDefault","i","length","window","confirm","find","p","changedPerson","returnedPerson","setTimeout","catch","toString","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f73012f3.chunk.js","sourcesContent":["import React from \"react\"\n\nconst PopulateList = ({ persons, filterName, deletePerson }) => {\n    const list = persons\n        .filter(person => filterName === \"\" || person.name.toLowerCase().includes(filterName.toLowerCase()))\n        .map(person =>\n            person.isActive ?\n                <li key={person.id}>\n                    {person.name} {person.number} <button id={person.id} value={person.name} onClick={() => deletePerson(person.id)} type=\"button\">delete</button>\n                </li>\n                : \"\")\n\n    return (\n        <ul>\n            {list}\n        </ul>\n    )\n}\n\nexport default PopulateList","import React from \"react\"\n\nconst Filter = ({ searchName, filterName }) => {\n    return (\n        <div>\n            <h2>Search</h2>\n            Search by name: <input value={filterName} onChange={searchName}></input>\n        </div>\n    )\n}\n\nexport default Filter","import React from \"react\"\n\n\nconst PersonsForm = ({ addNumber, newName, newNumber, handleNameOnChange, handleNumberOnChange }) => {\n    return (\n        <div>\n            <form onSubmit={addNumber}>\n                <div>\n                    Name: <input value={newName} placeholder=\"name\" required onChange={handleNameOnChange} />\n                </div>\n                <br />\n                <div>\n                    Number: <input value={newNumber} placeholder=\"number\" required onChange={handleNumberOnChange} />\n                </div>\n                <br />\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n                <br />\n            </form>\n        </div>\n    )\n}\n\nexport default PersonsForm","import axios from \"axios\"\n\nconst baseUrl = \"http://localhost:3001/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = numberObject => {\n    const request = axios.post(baseUrl, numberObject)\n    return request.then(response => response.data)\n}\nconst update = (id, numberObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, numberObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id, numberObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, numberObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport PopulateList from \"./components/PopulateList.js\"\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport personService from \"./services/persons\"\n\nconst App = () => {\n  const [newName, setNewName] = useState(\"\"),\n    [newNumber, setNewNumber] = useState(\"\"),\n    [filterName, setFilterName] = useState(\"\"),\n    [persons, setPersons] = useState([]),\n    [confirmMessage, setConfirmMessage] = useState(null),\n    [errorMessage, setErrorMessage] = useState(null),\n    uuidv1 = require(\"uuid/v1\")\n\n  const Notification = ({ message, error }) => {\n    let style\n    if (message) {\n       style = \"confirm\"\n    }\n\n    if(error) style = \"error\"\n\n    return (\n      <div className={style}>\n        {error}\n        {message}\n      </div>\n\n    )\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id),\n      changedPerson = { ...person, isActive: !person.isActive },\n      confirmed = window.confirm(`Are you sure you want to delete ${changedPerson.name}`)\n\n    if (confirmed) {\n      personService\n        .deletePerson(id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setConfirmMessage(`${person.name} has been deleted successfully`)\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setTimeout(() => {\n            setConfirmMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`The person ${person.name} was already been removed from the server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const addNumber = e => {\n    e.preventDefault()\n\n    for (let i = 0; i < persons.length; i++) {\n      if (e.target[0].value === persons[i].name) {\n        const confirmed = window.confirm(`${persons[i].name} is already added to phonebook, would you like to replace the old number with a new one?`)\n        if (confirmed) {\n          const id = persons[i].id,\n            person = persons.find(p => p.id === id),\n            changedPerson = { ...person, number: e.target[1].value }\n          personService\n            .update(id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n              setConfirmMessage(`Number has been changed for ${person.name}`)\n              setTimeout(() => {\n                setConfirmMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setErrorMessage(`Something went wrong and we couldn't add ${person.name} to list`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n          return\n        }\n        else {\n          return\n        }\n      }\n    }\n\n    const numberObject = {\n      name: newName,\n      number: newNumber.toString(),\n      isActive: true,\n      id: uuidv1()\n    }\n\n    personService\n      .create(numberObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setConfirmMessage(`${returnedPerson.name} has been successfully added to list`)\n        setTimeout(() => {\n          setConfirmMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setErrorMessage(`Something went wrong and we couldn't add ${numberObject.name} to list`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n\n  const searchName = (e) => {\n    setFilterName(e.target.value)\n  }\n\n  const handleNameOnChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberOnChange = (e) => {\n    setNewNumber(e.target.value)\n    console.log(newNumber)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={confirmMessage} error={errorMessage} />\n      <Filter searchName={searchName} filterName={filterName} />\n      <h2>Add a new</h2>\n      <PersonForm addNumber={addNumber}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameOnChange={handleNameOnChange}\n        handleNumberOnChange={handleNumberOnChange}\n      />\n      <h2>Numbers</h2>\n      <PopulateList\n        persons={persons}\n        filterName={filterName}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}