{"version":3,"sources":["components/PopulateList.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["PopulateList","persons","filterName","deletePerson","list","filter","person","name","toLowerCase","includes","map","key","id","number","value","onClick","type","Filter","searchName","onChange","PersonsForm","addNumber","newName","newNumber","handleNameOnChange","handleNumberOnChange","onSubmit","placeholder","required","baseUrl","axios","get","then","response","data","numberObject","post","put","delete","App","useState","setNewName","setNewNumber","setFilterName","setPersons","confirmMessage","setConfirmMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","catch","error","alert","message","style","className","e","target","PersonForm","preventDefault","i","length","window","confirm","find","p","changedPerson","returnedPerson","setTimeout","toString","isActive","concat","ReactDOM","render","document","getElementById"],"mappings":"kNA0BeA,EAxBM,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aACrCC,EAAOH,EACVI,QACC,SAAAC,GAAM,MACW,KAAfJ,GACAI,EAAOC,KAAKC,cAAcC,SAASP,EAAWM,kBAEjDE,KAAI,SAAAJ,GAAM,OACT,wBAAIK,IAAKL,EAAOM,IACbN,EAAOC,KADV,IACiBD,EAAOO,OAAQ,IAC9B,4BACED,GAAIN,EAAOM,GACXE,MAAOR,EAAOC,KACdQ,QAAS,kBAAMZ,EAAaG,EAAOM,KACnCI,KAAK,UAJP,cAWN,OAAO,4BAAKZ,ICZCa,EATA,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,WAAYhB,EAAiB,EAAjBA,WAC1B,OACI,6BACI,sCADJ,mBAEoB,2BAAOY,MAAOZ,EAAYiB,SAAUD,MCkBjDE,EArBK,SAAC,GAAiF,IAA/EC,EAA8E,EAA9EA,UAAWC,EAAmE,EAAnEA,QAASC,EAA0D,EAA1DA,UAAWC,EAA+C,EAA/CA,mBAAoBC,EAA2B,EAA3BA,qBACtE,OACI,6BACI,0BAAMC,SAAUL,GACZ,sCACU,2BAAOP,MAAOQ,EAASK,YAAY,OAAOC,UAAQ,EAACT,SAAUK,KAEvE,6BACA,wCACY,2BAAOV,MAAOS,EAAWI,YAAY,SAASC,UAAQ,EAACT,SAAUM,KAE7E,6BACA,6BACI,4BAAQT,KAAK,UAAb,QAEJ,gC,gBChBVa,EAAU,eAqBD,EAnBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACtB,EAAIuB,GAEhB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBjB,GAAMuB,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALM,SAACtB,EAAIuB,GAEtB,OADgBL,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BjB,GAAMuB,GAClCH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC4J9BK,EA1KH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTlB,EADS,KACAmB,EADA,OAEcD,mBAAS,IAFvB,mBAEbjB,EAFa,KAEFmB,EAFE,OAGgBF,mBAAS,IAHzB,mBAGbtC,EAHa,KAGDyC,EAHC,OAIUH,mBAAS,IAJnB,mBAIbvC,EAJa,KAIJ2C,EAJI,OAKwBJ,mBAAS,MALjC,mBAKbK,EALa,KAKGC,EALH,OAMoBN,mBAAS,MAN7B,mBAMbO,EANa,KAMCC,EAND,KAQhBC,qBAAU,WACRC,IAEGlB,MAAK,SAAAmB,GACJP,EAAWO,MAEZC,OAAM,SAAAC,GACLC,MAAMD,EAAME,cAEf,IAmIH,OACE,6BACE,yCACA,mBApIiB,SAAC,GAAwB,IACxCC,EADkBD,EAAqB,EAArBA,QAASF,EAAY,EAAZA,MAQ/B,OANIE,IACFC,EAAQ,WAGNH,IAAOG,EAAQ,SAGjB,yBAAKC,UAAWD,GACbH,EACAE,KAyHH,CAAcA,QAASV,EAAgBQ,MAAON,IAC9C,kBAAC,EAAD,CAAQ7B,WAhBO,SAAAwC,GACjBf,EAAce,EAAEC,OAAO7C,QAeWZ,WAAYA,IAC5C,yCACA,kBAAC0D,EAAD,CACEvC,UAvFY,SAAAqC,GAChBA,EAAEG,iBAEF,IAAK,IAAIC,EAAI,EAAGA,EAAI7D,EAAQ8D,OAAQD,IAClC,GAAIJ,EAAEC,OAAO,GAAG7C,QAAUb,EAAQ6D,GAAGvD,KAAM,CAIzC,IAHkByD,OAAOC,QAAP,UACbhE,EAAQ6D,GAAGvD,KADE,6FA8BhB,OA3Bc,IAAD,aACb,IAAMK,EAAKX,EAAQ6D,GAAGlD,GACpBN,EAASL,EAAQiE,MAAK,SAAAC,GAAC,OAAIA,EAAEvD,KAAOA,KACpCwD,EAAa,eAAQ9D,EAAR,CAAgBO,OAAQ6C,EAAEC,OAAO,GAAG7C,QAsBnD,OArBAoC,EACUtC,EAAIwD,GACXpC,MAAK,SAAAqC,GACJzB,EACE3C,EAAQS,KAAI,SAAAJ,GAAM,OAChBA,EAAOM,KAAOA,EAAKN,EAAS+D,MAGhCvB,EAAkB,+BAAD,OAAgCxC,EAAOC,OACxDkC,EAAW,IACXC,EAAa,IACb4B,YAAW,WACTxB,EAAkB,QACjB,QAEJM,OAAM,SAAAC,GACLL,EAAgBK,EAAMpB,SAASC,MAC/BoC,YAAW,WACTtB,EAAgB,QACf,QAED,CAAN,UAzBa,qCAgCnB,IAAMb,EAAe,CACnB5B,KAAMe,EACNT,OAAQU,EAAUgD,WAClBC,UAAU,GAGZtB,EACUf,GACPH,MAAK,SAAAqC,GACJzB,EAAW3C,EAAQwE,OAAOJ,IAC1B5B,EAAW,IACXC,EAAa,IACbI,EAAkB,GAAD,OACZuB,EAAe9D,KADH,yCAGjB+D,YAAW,WACTxB,EAAkB,QACjB,QAGJM,OAAM,SAAAC,GACLL,EAAgBK,EAAMpB,SAASC,KAAKmB,OACpCiB,YAAW,WACTtB,EAAgB,QACf,SAwBH1B,QAASA,EACTC,UAAWA,EACXC,mBAlBqB,SAAAkC,GACzBjB,EAAWiB,EAAEC,OAAO7C,QAkBhBW,qBAfuB,SAAAiC,GAC3BhB,EAAagB,EAAEC,OAAO7C,UAgBpB,uCACA,kBAAC,EAAD,CACEb,QAASA,EACTC,WAAYA,EACZC,aAlIe,SAAAS,GACnB,IAAMN,EAASL,EAAQiE,MAAK,SAAAC,GAAC,OAAIA,EAAEvD,KAAOA,KACxCwD,EAAa,eAAQ9D,EAAR,CAAgBkE,UAAWlE,EAAOkE,WACnCR,OAAOC,QAAP,0CACyBG,EAAc7D,QAInD2C,EACgBtC,EAAIwD,GACjBpC,MAAK,SAAAqC,GACJzB,EACE3C,EAAQS,KAAI,SAAAJ,GAAM,OAAKA,EAAOM,KAAOA,EAAKN,EAAS+D,MAErDvB,EAAkB,GAAD,OAAIxC,EAAOC,KAAX,mCACjBkC,EAAW,IACXC,EAAa,IACb4B,YAAW,WACTxB,EAAkB,QACjB,QAEJM,OAAM,SAAAC,GACLL,EAAgB,cAAD,OACC1C,EAAOC,KADR,8CAGf+D,YAAW,WACTtB,EAAgB,QACf,KACHJ,EAAW3C,EAAQI,QAAO,SAAA8D,GAAC,OAAIA,EAAEvD,KAAOA,c,MChElD8D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.08fa2698.chunk.js","sourcesContent":["import React from \"react\"\n\nconst PopulateList = ({ persons, filterName, deletePerson }) => {\n  const list = persons\n    .filter(\n      person =>\n        filterName === \"\" ||\n        person.name.toLowerCase().includes(filterName.toLowerCase())\n    )\n    .map(person => (\n      <li key={person.id}>\n        {person.name} {person.number}{\" \"}\n        <button\n          id={person.id}\n          value={person.name}\n          onClick={() => deletePerson(person.id)}\n          type=\"button\"\n        >\n          delete\n        </button>\n      </li>\n    ))\n\n  return <ul>{list}</ul>\n}\n\nexport default PopulateList\n","import React from \"react\"\n\nconst Filter = ({ searchName, filterName }) => {\n    return (\n        <div>\n            <h2>Search</h2>\n            Search by name: <input value={filterName} onChange={searchName}></input>\n        </div>\n    )\n}\n\nexport default Filter","import React from \"react\"\n\n\nconst PersonsForm = ({ addNumber, newName, newNumber, handleNameOnChange, handleNumberOnChange }) => {\n    return (\n        <div>\n            <form onSubmit={addNumber}>\n                <div>\n                    Name: <input value={newName} placeholder=\"name\" required onChange={handleNameOnChange} />\n                </div>\n                <br />\n                <div>\n                    Number: <input value={newNumber} placeholder=\"number\" required onChange={handleNumberOnChange} />\n                </div>\n                <br />\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n                <br />\n            </form>\n        </div>\n    )\n}\n\nexport default PersonsForm","import axios from \"axios\"\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = numberObject => {\n    const request = axios.post(baseUrl, numberObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, numberObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, numberObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id, numberObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, numberObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from \"react\"\nimport PopulateList from \"./components/PopulateList.js\"\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport personService from \"./services/persons\"\n\nconst App = () => {\n  const [newName, setNewName] = useState(\"\"),\n    [newNumber, setNewNumber] = useState(\"\"),\n    [filterName, setFilterName] = useState(\"\"),\n    [persons, setPersons] = useState([]),\n    [confirmMessage, setConfirmMessage] = useState(null),\n    [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        alert(error.message)\n      })\n  }, [])\n\n  const Notification = ({ message, error }) => {\n    let style\n    if (message) {\n      style = \"confirm\"\n    }\n\n    if (error) style = \"error\"\n\n    return (\n      <div className={style}>\n        {error}\n        {message}\n      </div>\n    )\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id),\n      changedPerson = { ...person, isActive: !person.isActive },\n      confirmed = window.confirm(\n        `Are you sure you want to delete ${changedPerson.name}`\n      )\n\n    if (confirmed) {\n      personService\n        .deletePerson(id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(\n            persons.map(person => (person.id !== id ? person : returnedPerson))\n          )\n          setConfirmMessage(`${person.name} has been deleted successfully`)\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setTimeout(() => {\n            setConfirmMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `The person ${person.name} was already been removed from the server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const addNumber = e => {\n    e.preventDefault()\n\n    for (let i = 0; i < persons.length; i++) {\n      if (e.target[0].value === persons[i].name) {\n        const confirmed = window.confirm(\n          `${persons[i].name} is already added to phonebook, would you like to replace the old number with a new one?`\n        )\n        if (confirmed) {\n          const id = persons[i].id,\n            person = persons.find(p => p.id === id),\n            changedPerson = { ...person, number: e.target[1].value }\n          personService\n            .update(id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== id ? person : returnedPerson\n                )\n              )\n              setConfirmMessage(`Number has been changed for ${person.name}`)\n              setNewName(\"\")\n              setNewNumber(\"\")\n              setTimeout(() => {\n                setConfirmMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setErrorMessage(error.response.data)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n          return\n        } else {\n          return\n        }\n      }\n    }\n\n    const numberObject = {\n      name: newName,\n      number: newNumber.toString(),\n      isActive: true\n    }\n\n    personService\n      .create(numberObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setConfirmMessage(\n          `${returnedPerson.name} has been successfully added to list`\n        )\n        setTimeout(() => {\n          setConfirmMessage(null)\n        }, 5000)\n      })\n\n      .catch(error => {\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 10000)\n      })\n  }\n\n  const searchName = e => {\n    setFilterName(e.target.value)\n  }\n\n  const handleNameOnChange = e => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberOnChange = e => {\n    setNewNumber(e.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={confirmMessage} error={errorMessage} />\n      <Filter searchName={searchName} filterName={filterName} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addNumber={addNumber}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameOnChange={handleNameOnChange}\n        handleNumberOnChange={handleNumberOnChange}\n      />\n      <h2>Numbers</h2>\n      <PopulateList\n        persons={persons}\n        filterName={filterName}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}